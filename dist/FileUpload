
	@Override
	public Response downloadFileViaURL(long fileID) {
		// ServiceResponseVO<byte[]> serviceResponseVO;
		File file = adaptor.downloadFileViaURL(fileID);
		// Response.ok(new File(""));
		ResponseBuilder rb = Response.ok(file);
		/*
		 * int i = file.getName().indexOf("_"); String key =
		 * file.getName().substring(i+1, file.getName().length());
		 */
		String fileName = file.getName().split("_", 3)[2];

		// String mimetype = "application/octet-stream";
		rb.header("Content-Disposition", "attachment; filename=" + fileName);
		rb.header("Content-Type", "text/plain");

		Response response = rb.build();
		

		return response;
		// serviceResponseVO = new
		// ServiceResponseVO<byte[]>(Boolean.FALSE,response);

	}


	public File downloadFileViaURL(long fileID) {
		// String saveFilePath=appConfig.getIncidentAttachmentPath();
		String destinationDir = systemParamertes
				.getParameter(SystemParameterEnum.INCIDENT_ATTACHMENT_PATH);

		String fileName = documentDAO.findDocumentName(fileID);
		// char slash = '\\';
		String fileURL = destinationDir + fileName;

		File file = fileUrl(fileURL);
		return file;

	}
